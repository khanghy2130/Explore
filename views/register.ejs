<%- include("./partials/header", {title: "Register"}) %>

<div class="container">
	<div class="row d-flex justify-content-center">
		<div class="col-lg-6 m-3">
			<h1 class="text-center m-3 special-font">Register</h1>

			<form action="/register" method="POST">
				<div class="form-group">
					<input class="form-control"  type="text" name="username" placeholder="Username" required>
				</div>

				<div class="form-group">
					<input class="form-control" id="password" type="password" name="password" placeholder="Password" required>
				</div>
				
				<div class="form-group">
					<input class="form-control" id="confirm_password" type="password" name="password-confirm" placeholder="Confirm password" required>
				</div>

				<button class="btn btn-lg btn-primary btn-block">Register</button>
			</form>

			<a href="/login" class="btn btn-sm btn-secondary my-3">Already have an account?</a>
		</div>
	</div>
</div>

<!-- check password matching -->
<script>
	var password = document.getElementById("password"), 
	confirm_password = document.getElementById("confirm_password");

	function validatePassword(){
		if(password.value != confirm_password.value) {
			confirm_password.setCustomValidity("Passwords Don't Match");
		} else {
			confirm_password.setCustomValidity('');
		}
	}

	password.onchange = validatePassword;
	confirm_password.onkeyup = validatePassword;
</script>

<% include ./partials/footer %>